<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css">

	<title>Penghitungan</title>
</head>
<body>

	<div class="grup-all-content">
		<div class="row">
			<div class="col-xs-12 col-sm-3">
				<div class="card">
					<h3>Rincian Syarat Hitung</h3>
					<div class="card-body">
						<form action="">
							<div class="form-group">
								<label for="exampleInputtext1">Kebutuhan Perbulan</label>
								<div class="input-group mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="basic-addon1">Rp</span>
									</div>
									<input type="text" class="form-control"  id="perbulan" value="10000000" aria-describedby="textHelp" placeholder="Enter text">
								</div>
								<small id="textHelp" class="form-text text-muted">Merupakan jumlah total uang yang terpakai perbulan</small>
							</div>
							<button type="button" class="btn btn-primary" id="hitung">Hitung</button>
							<hr>
							<div class="form-group">
								<label for="exampleInputtext1">Intrest/ Pertahun</label>
								<div class="input-group mb-3">
									<input type="text" class="form-control" id="bungapertahun" aria-describedby="textHelp" placeholder="Enter text" aria-describedby="basic-addon2">
									<div class="input-group-append">
										<span class="input-group-text" id="basic-addon2">%</span>
									</div>
								</div>
								<small id="textHelp" class="form-text text-muted">Bunga yang kamu dapat pertahun.</small>
							</div>
							<div class="form-group">
								<label for="exampleInputtext1">Jangka Waktu</label>
								<div class="input-group mb-3">
									<input type="text" class="form-control" id="jangkawaktu" aria-describedby="textHelp" placeholder="Enter text" aria-describedby="basic-addon2">
									<div class="input-group-append">
										<span class="input-group-text" id="basic-addon2">Tahun</span>
									</div>
								</div>
								<small id="textHelp" class="form-text text-muted">Merupakan lama menabung anda.</small>
							</div>
							<div class="form-group">
								<label for="exampleInputtext1">Perkiraan Menabung/Bulan</label>
								<div class="input-group mb-3">
									<div class="input-group-prepend">
										<span class="input-group-text" id="basic-addon1">Rp</span>
									</div>
									<input type="text" class="form-control"  id="disisihkan" aria-describedby="textHelp" placeholder="Enter text">
								</div>
								<small id="textHelp" class="form-text text-muted">Merupakan jumlah uang yang disisihkan perbulan untuk investasi</small>
							</div>
							<button type="button" class="btn btn-primary" id="hitung-all">Hitung</button>
						</form>
					</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-9">
				<div class="card modif-card">
					<h1>Hasil Penghitungan</h1>
					<p>Perbulan : <span id="bulanan"></span></p>
					<p>Pertahun : <span id="tahunan"></span></p>
					<p>Target : <span id="target"></span></p>
					<table class="table">
						<thead>
							<tr>
								<th scope="col">No</th>
								<th scope="col">Pertahun</th>
								<th scope="col">Intrest/ Tahun</th>
								<th scope="col">Hasil Intrest</th>
								<th scope="col">Total Pendapatan/Tahun</th>
							</tr>
						</thead>
						<tbody class="isidata">
							
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script type="text/javascript">

	var bulanan, tahunan, target, bunga, jangka, disisihkan, pengalihan, total,code,sisihtahun, simsis;

	$('#hitung').click(function () {

		bulanan = $('#perbulan').val();
		tahunan = bulanan*12;
		target = tahunan / 0.04;

		$('#bulanan').text(bulanan.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1."));
		$('#tahunan').text(tahunan.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1."));
		$('#target').text(target.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1."));
		
	});

	$('#hitung-all').click(function () {
		
		bunga = $('#bungapertahun').val();
		jangka = $('#jangkawaktu').val();
		disisihkan = $('#disisihkan').val();
		sisihtahun = disisihkan * 12;
		simsis = disisihkan *12;

		console.log(simsis);

		for (var i = 0; i < jangka; i++) {
			pengalihan = sisihtahun * (bunga/100);
			total = pengalihan + sisihtahun;
			console.log(total);
			
			code += "<tr> <td>"+ (i+1) +"</td> <td>"+ sisihtahun.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") +"</td> <td>"+ bunga +"% </td> <td>"+ pengalihan.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") +"</td> <td>"+ total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.") +"</td> </tr>";

			sisihtahun += simsis + pengalihan;
		}

		console.log('trakhir '+simsis);

		$('.isidata').html(code);

	});
</script>

</body>
</html>